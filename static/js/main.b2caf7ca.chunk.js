(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{3:function(e,t,a){e.exports={App:"Components_App__1i73I",Searchbar:"Components_Searchbar__3wwfW",SearchForm:"Components_SearchForm__2n-IZ",SearchFormButton:"Components_SearchFormButton__2YiBK",SearchFormButtonLabel:"Components_SearchFormButtonLabel__i1Tmu",SearchFormInput:"Components_SearchFormInput__ekd1G",ImageGallery:"Components_ImageGallery__3v_Om",ImageGalleryItem:"Components_ImageGalleryItem__1448F",ImageGalleryItemImage:"Components_ImageGalleryItemImage__2Ims1",Overlay:"Components_Overlay__12oCI",Modal:"Components_Modal__uzopx",buttonDiv:"Components_buttonDiv__2Afvu",Button:"Components_Button__RNHJR"}},37:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),o=a.n(c),r=a(5),s=a.n(r),i=(a(37),a(17)),l=a(6),u=a(11),m=a(29),j=a.n(m),b={fetchImg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a="19054641-bf36a8a09cd65ed4eb613a5e0";return j.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat(a,"&image_type=photo&orientation=horizontal&per_page=12\n")).then((function(e){return e.data.hits}))}},h=a(3),g=a.n(h),d=document.querySelector("#modal-root");function O(e){var t=e.src,a=e.alt,o=e.onClose;Object(c.useEffect)((function(){return window.addEventListener("keydown",s),function(){window.removeEventListener("keydown",s)}}));var s=function(e){"Escape"===e.code&&o()};return Object(r.createPortal)(Object(n.jsx)("div",{className:g.a.Overlay,onClick:function(e){e.currentTarget===e.target&&o()},children:Object(n.jsx)("div",{className:g.a.Modal,children:Object(n.jsx)("img",{src:t,alt:a})})}),d)}function p(e){var t=e.src,a=e.alt,o=(e.id,e.largeImageURL),r=Object(c.useState)(!1),s=Object(l.a)(r,2),i=s[0],u=s[1],m=function(){u(!i)};return Object(n.jsxs)("li",{className:g.a.ImageGalleryItem,children:[Object(n.jsx)("img",{onClick:m,className:g.a.ImageGalleryItemImage,src:t,alt:a}),i&&Object(n.jsx)(O,{onClose:m,src:o,alt:a})]})}var f=function(e){var t=e.images,a=e.onImageClick;return Object(n.jsx)("ul",{className:g.a.ImageGallery,children:t.map((function(e){var t=e.webformatURL,c=e.tags,o=e.largeImageURL,r=e.id;return Object(n.jsx)(p,{src:t,largeImageURL:o,alt:c,getLargeImageURL:a},r)}))})};function _(e){var t=e.message;return Object(n.jsx)("div",{role:"alert",children:Object(n.jsxs)("p",{children:["Something wrong:( Error: ",t]})})}a(56);function v(e){var t=e.onSubmit,a=Object(c.useState)(""),o=Object(l.a)(a,2),r=o[0],s=o[1];return Object(n.jsx)("header",{className:g.a.Searchbar,children:Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),s("")):Object(u.b)("Please enter your query")},className:g.a.SearchForm,children:[Object(n.jsx)("button",{type:"submit",className:g.a.SearchFormButton,children:Object(n.jsx)("span",{className:g.a.SearchFormButtonLabel,children:"Search"})}),Object(n.jsx)("input",{type:"text",value:r,onChange:function(e){s(e.currentTarget.value.toLowerCase())},className:g.a.SearchFormInput,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}function I(e){var t=e.onClick;return Object(n.jsx)("div",{className:g.a.buttonDiv,children:Object(n.jsx)("button",{type:"button",onClick:t,className:g.a.Button,children:"Load more"})})}var S=a(30),x=a.n(S),C=a(31),y=(a(86),"idle"),F="pending",w="resolved",L="rejected";function N(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],o=t[1],r=Object(c.useState)(1),s=Object(l.a)(r,2),m=s[0],j=s[1],h=Object(c.useState)(""),g=Object(l.a)(h,2),d=g[0],O=g[1],p=Object(c.useState)(null),S=Object(l.a)(p,2),N=S[0],k=S[1],B=Object(c.useState)(y),G=Object(l.a)(B,2),E=G[0],R=G[1];Object(c.useEffect)((function(){if(d){R(F),b.fetchImg(d,m).then((function(e){return o((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))}))})).catch((function(e){k(e),R(L)})).finally((function(){return R(w)}))}}),[d,m]);return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(v,{onSubmit:function(e){e!==d&&(O(e),j(1),o([]))}}),Object(n.jsx)(u.a,{autoClose:3e3}),E===y&&Object(n.jsx)("p",{className:"searchString",children:"What are you searching?"}),E===F&&Object(n.jsx)("span",{className:"loader",children:Object(n.jsx)(x.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80,timeout:3e3})}),E===L&&Object(n.jsx)(_,{message:N.message}),a.length>0&&Object(n.jsx)(f,{images:a}),E===w&&Object(n.jsx)(I,{onClick:function(){j((function(e){return e+1})),C.animateScroll.scrollToBottom()}})]})})}var k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,90)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),o(e),r(e)}))};s.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(N,{})}),document.getElementById("root")),k()}},[[87,1,2]]]);
//# sourceMappingURL=main.b2caf7ca.chunk.js.map